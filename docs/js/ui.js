const datepicker=document.getElementById("datepicker"),timepicker=document.getElementById("timepicker"),website_previous_node=document.getElementById("website-previous-node"),website_next_node=document.getElementById("website-next-node");let boom_datetime=new Date(1970,0,1,0,0,0,0),boomed=!1,changed_date=!1,changed_time=!1;function addRow(){website_next_node.insertAdjacentHTML("beforebegin",'\n    <div class="flex my-2">\n        <div class="flex-auto mx-3">\n            <input class="website-input" placeholder="Website" type="text" value="">\n        </div>\n        <div class="flex-none mr-3">\n            <button onclick="deleteRow(this)" class="generic-button remove bg-red-500 hover:bg-red-600 focus:bg-red-600 active:bg-red-700">X</button>\n        </div>\n    </div>\n    ')}function deleteRow(e){document.body.removeChild(e.parentNode.parentNode)}function openAll(){let e=document.getElementsByClassName("website-input");for(let t of e)""!=t.value&&window.open(t.value)}function save(){let e={};e.boom_datetime=boom_datetime,e.inputs=[];let t=0,n=document.getElementsByClassName("website-input");for(let d of n)""!=d.value&&(e.inputs[t]=d.value,t++);const d=document.createElement("a");d.href=URL.createObjectURL(new Blob([JSON.stringify(e,null,4)],{type:"text/plain"})),d.setAttribute("download","fff-data.txt"),document.body.appendChild(d),d.click(),document.body.removeChild(d)}function load(){finput=document.getElementById("finput"),finput.type="file",finput.addEventListener("change",(()=>{const e=finput.files[0],t=new FileReader;t.addEventListener("load",(()=>{const e=JSON.parse(t.result);boom_datetime=new Date(e.boom_datetime),dp_input=datepicker.getElementsByClassName("datepicker-input")[0],dp_input.value=boom_datetime.getDate().toString().padStart(2,"0")+"/"+(parseInt(boom_datetime.getMonth())+1).toString().padStart(2,"0")+"/"+boom_datetime.getFullYear(),tp_input=timepicker.getElementsByClassName("datepicker-input")[0];let n=boom_datetime.getHours(),d=boom_datetime.getMinutes(),o="AM";if(0==n&&0==d?(n+=12,o="PM"):12==n&&0==d?o="AM":n>=12&&(n-=12,o="PM"),tp_input.value=n.toString().padStart(2,"0")+":"+d.toString().padStart(2,"0")+" "+o,!e.inputs)return;let i=document.getElementsByClassName("website-input"),a=document.getElementsByClassName("remove");for(let e of a)e.click();for(let t=i.length;t<=e.inputs.length-1;t++)addRow();i=document.getElementsByClassName("website-input");let l=0;for(let t of e.inputs)i[l].value=t,l++;changed_date=!0,changed_time=!0})),e&&t.readAsText(e)})),finput.click()}function test(){changed_date&&changed_time&&!boomed&&boom_datetime<=new Date&&(openAll(),boomed=!0)}datepicker.addEventListener("dateChange.mdb.datepicker",(e=>{boom_datetime.setFullYear(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),changed_date=!0,boomed=!1})),timepicker.addEventListener("input.mdb.timepicker",(e=>{let t=e.target.value.split(/[ :]/);"PM"==t[2]&&(t[0]=parseInt(t[0])+12),boom_datetime.setHours(t[0],t[1]),changed_time=!0,boomed=!1})),setInterval(test,1);
